{% extends 'base_todolist.html' %}

{% block meta %}
<!--bikin judul-->
<title>{{ user.username }}! | Todolist</title>
{% endblock meta %}

{% block content %}
<h1>Tugas 4: To Do List</h1>

<div class="nav-right">
    <strong>Halo, {{ user.username }}!</strong>
    <a class="btn" href="{% url 'todolist:logout' %}">Logout</a>
</div>

<table>
    <tr>
        <td class="table-header">User</td>
        <td class="table-header">Title</td>
        <td class="table-header">Description</td>
        <td class="table-header">Date</td>
        <td class="table-header">Status</td>
        <td class="table-header">Ubah Status</td>
        <td class="table-header">Hapus</td>
    </tr>

    {% for task in tasks %}
    <tr>
        <td>{{ task.user.username }}</td>
        <td>{{ task.title }}</td>
        <td class="description-col">{{ task.description }}</td>
        <td>
            {{task.date|date:"N j, Y, H:i" }}
        </td>

        <td>
            {% if task.is_finished %}
            <p class="tag completed">
                Selesai
            </p>
            {% else %}
            <p class="tag not-completed">
                Belum Selesai
            </p>
            {% endif %}

        </td>
        <td>
            <a class="btn toggle-btn" href="{% url 'todolist:toggle_task' task.id %}">
                Ubah
            </a>
        </td>
        <td>
            <a class="btn delete-btn" href="{% url 'todolist:delete_task' task.id %}">
                Hapus Task
            </a>
        </td>
    </tr>

    {% endfor %}
    <tr>
        <td class="add-row" colspan="7">
            <a class="btn add-btn" href="{% url 'todolist:create_task' %}">
                Tambah Task
            </a>
        </td>
    </tr>
</table>


{% endblock content %}